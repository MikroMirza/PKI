<div class="container">
  <h1 *ngIf="role === 'ADMIN'">Admin page</h1>
  <h1 *ngIf="role === 'CA'">CA page</h1>
  <h1 *ngIf="role === 'USER'">User page</h1>

  <div class="button-row">
    <button *ngIf="role === 'ADMIN'" [routerLink]="['/users/ca/new']">
      Create CA user
    </button>
    <button *ngIf="role == 'ADMIN' || role == 'CA'" [routerLink]="['/create-certificate']">
      Create certificate
    </button>
    <button *ngIf="role == 'ADMIN' || role == 'CA'" [routerLink]="['/create-template']">
      Create template
    </button>
    <button *ngIf="role == 'ADMIN'" [routerLink]="['/assign-ca']">
      Assign CA certificates
    </button>
    <button (click)="logout()" [routerLink]="['']">Logout</button>
    <button [disabled]="!selectedCert" (click)="exportCertificate()">Export</button>
    <div class="button-row">
      <button *ngIf="role === 'ADMIN' || role === 'CA'" 
              [disabled]="selectedCert == null"
              (click)="openRevokeDialog()">
        Revoke Certificate
      </button>
    </div>
  </div>
  <button (click)="showCrl()"></button>
  <app-select-certificate [certData]="(certData$ | async) || []" (onCertSelected)="onSelectCert($event)" style="width: 50%;"></app-select-certificate>
</div>
